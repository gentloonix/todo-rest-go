<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>token - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="/lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="/lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.2";</script>
<script src="/lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="/pkg/">GoDoc</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package token
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "go/token"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package token defines constants representing the lexical tokens of the Go
programming language and basic operations on tokens (printing, predicates).

				<div id="example__retrievePositionInfo" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example (RetrievePositionInfo)</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example (RetrievePositionInfo)</span></p>
		
		
		
			<p>Code:</p>
			<pre class="code">fset := token.NewFileSet()

const src = `package main

import &#34;fmt&#34;

import &#34;go/token&#34;


type p = token.Pos

const bad = token.NoPos


func ok(pos p) bool {
    return pos != bad
}

/*line :7:9*/func main() {
    fmt.Println(ok(bad) == bad.IsValid())
}
`

f, err := parser.ParseFile(fset, &#34;main.go&#34;, src, 0)
if err != nil {
    fmt.Println(err)
    return
}

<span class="comment">// Print the location and kind of each declaration in f.</span>
for _, decl := range f.Decls {
    <span class="comment">// Get the filename, line, and column back via the file set.</span>
    <span class="comment">// We get both the relative and absolute position.</span>
    <span class="comment">// The relative position is relative to the last line directive.</span>
    <span class="comment">// The absolute position is the exact position in the source.</span>
    pos := decl.Pos()
    relPosition := fset.Position(pos)
    absPosition := fset.PositionFor(pos, false)

    <span class="comment">// Either a FuncDecl or GenDecl, since we exit on error.</span>
    kind := &#34;func&#34;
    if gen, ok := decl.(*ast.GenDecl); ok {
        kind = gen.Tok.String()
    }

    <span class="comment">// If the relative and absolute positions differ, show both.</span>
    fmtPosition := relPosition.String()
    if relPosition != absPosition {
        fmtPosition += &#34;[&#34; + absPosition.String() + &#34;]&#34;
    }

    fmt.Printf(&#34;%s: %s\n&#34;, fmtPosition, kind)
}

<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">
main.go:3:1: import
main.go:5:1: import
main.go:1:5[main.go:8:1]: type
main.go:3:1[main.go:10:1]: const
fake.go:42:11[main.go:13:1]: func
fake.go:7:9[main.go:17:14]: func
</pre>
			
		
	</div>
</div>

			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="#pkg-constants">Constants</a></dd>
			
			
			
				
				<dd><a href="#IsExported">func IsExported(name string) bool</a></dd>
			
				
				<dd><a href="#IsIdentifier">func IsIdentifier(name string) bool</a></dd>
			
				
				<dd><a href="#IsKeyword">func IsKeyword(name string) bool</a></dd>
			
			
				
				<dd><a href="#File">type File</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#File.AddLine">func (f *File) AddLine(offset int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.AddLineColumnInfo">func (f *File) AddLineColumnInfo(offset int, filename string, line, column int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.AddLineInfo">func (f *File) AddLineInfo(offset int, filename string, line int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Base">func (f *File) Base() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Line">func (f *File) Line(p Pos) int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.LineCount">func (f *File) LineCount() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.LineStart">func (f *File) LineStart(line int) Pos</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.MergeLine">func (f *File) MergeLine(line int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Name">func (f *File) Name() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Offset">func (f *File) Offset(p Pos) int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Pos">func (f *File) Pos(offset int) Pos</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Position">func (f *File) Position(p Pos) (pos Position)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.PositionFor">func (f *File) PositionFor(p Pos, adjusted bool) (pos Position)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.SetLines">func (f *File) SetLines(lines []int) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.SetLinesForContent">func (f *File) SetLinesForContent(content []byte)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#File.Size">func (f *File) Size() int</a></dd>
				
			
				
				<dd><a href="#FileSet">type FileSet</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#NewFileSet">func NewFileSet() *FileSet</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.AddFile">func (s *FileSet) AddFile(filename string, base, size int) *File</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.Base">func (s *FileSet) Base() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.File">func (s *FileSet) File(p Pos) (f *File)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.Iterate">func (s *FileSet) Iterate(f func(*File) bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.Position">func (s *FileSet) Position(p Pos) (pos Position)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.PositionFor">func (s *FileSet) PositionFor(p Pos, adjusted bool) (pos Position)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.Read">func (s *FileSet) Read(decode func(any) error) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#FileSet.Write">func (s *FileSet) Write(encode func(any) error) error</a></dd>
				
			
				
				<dd><a href="#Pos">type Pos</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Pos.IsValid">func (p Pos) IsValid() bool</a></dd>
				
			
				
				<dd><a href="#Position">type Position</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Position.IsValid">func (pos *Position) IsValid() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Position.String">func (pos Position) String() string</a></dd>
				
			
				
				<dd><a href="#Token">type Token</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Lookup">func Lookup(ident string) Token</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Token.IsKeyword">func (tok Token) IsKeyword() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Token.IsLiteral">func (tok Token) IsLiteral() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Token.IsOperator">func (tok Token) IsOperator() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Token.Precedence">func (op Token) Precedence() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Token.String">func (tok Token) String() string</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h3>Examples</h3>
			<div class="js-expandAll expandAll collapsed">(Expand All)</div>
			<dl>
			
			<dd><a class="exampleLink" href="#example__retrievePositionInfo">Package (RetrievePositionInfo)</a></dd>
			
			</dl>
		</div>
		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="/src/go/token/position.go">position.go</a>
			
				<a href="/src/go/token/serialize.go">serialize.go</a>
			
				<a href="/src/go/token/token.go">token.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				<p>A set of constants for precedence-based expression parsing.
Non-operators have lowest precedence, followed by operators
starting with precedence 1 up to unary operators. The highest
precedence serves as &quot;catch-all&quot; precedence for selector,
indexing, and other operator and delimiter tokens.

				<pre>const (
    <span id="LowestPrec">LowestPrec</span>  = 0 <span class="comment">// non-operators</span>
    <span id="UnaryPrec">UnaryPrec</span>   = 6
    <span id="HighestPrec">HighestPrec</span> = 7
)</pre>
			
		
		
		
			
			
			<h2 id="IsExported">func <a href="/src/go/token/token.go?s=5746:5779#L306">IsExported</a>
				<a class="permalink" href="#IsExported">&#xb6;</a>
				
				<span title="Added in Go 1.13">1.13</span>
			</h2>
			<pre>func IsExported(name <a href="/pkg/builtin/#string">string</a>) <a href="/pkg/builtin/#bool">bool</a></pre>
			<p>IsExported reports whether name starts with an upper-case letter.

			
			

		
			
			
			<h2 id="IsIdentifier">func <a href="/src/go/token/token.go?s=6282:6317#L321">IsIdentifier</a>
				<a class="permalink" href="#IsIdentifier">&#xb6;</a>
				
				<span title="Added in Go 1.13">1.13</span>
			</h2>
			<pre>func IsIdentifier(name <a href="/pkg/builtin/#string">string</a>) <a href="/pkg/builtin/#bool">bool</a></pre>
			<p>IsIdentifier reports whether name is a Go identifier, that is, a non-empty
string made up of letters, digits, and underscores, where the first character
is not a digit. Keywords are not identifiers.

			
			

		
			
			
			<h2 id="IsKeyword">func <a href="/src/go/token/token.go?s=5932:5964#L312">IsKeyword</a>
				<a class="permalink" href="#IsKeyword">&#xb6;</a>
				
				<span title="Added in Go 1.13">1.13</span>
			</h2>
			<pre>func IsKeyword(name <a href="/pkg/builtin/#string">string</a>) <a href="/pkg/builtin/#bool">bool</a></pre>
			<p>IsKeyword reports whether name is a Go keyword, such as &quot;func&quot; or &quot;return&quot;.

			
			

		
		
			
			
			<h2 id="File">type <a href="/src/go/token/position.go?s=3380:3755#L85">File</a>
				<a class="permalink" href="#File">&#xb6;</a>
				
				
			</h2>
			<p>A File is a handle for a file belonging to a FileSet.
A File has a name, size, and line offset table.

			<pre>type File struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="File.AddLine">func (*File) <a href="/src/go/token/position.go?s=4443:4477#L122">AddLine</a>
					<a class="permalink" href="#File.AddLine">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) AddLine(offset <a href="/pkg/builtin/#int">int</a>)</pre>
				<p>AddLine adds the line offset for a new line.
The line offset must be larger than the offset for the previous line
and smaller than the file size; otherwise the line offset is ignored.

				
				
				
			
				
				<h3 id="File.AddLineColumnInfo">func (*File) <a href="/src/go/token/position.go?s=8314:8393#L236">AddLineColumnInfo</a>
					<a class="permalink" href="#File.AddLineColumnInfo">&#xb6;</a>
					
					<span title="Added in Go 1.11">1.11</span>
				</h3>
				<pre>func (f *<a href="#File">File</a>) AddLineColumnInfo(offset <a href="/pkg/builtin/#int">int</a>, filename <a href="/pkg/builtin/#string">string</a>, line, column <a href="/pkg/builtin/#int">int</a>)</pre>
				<p>AddLineColumnInfo adds alternative file, line, and column number
information for a given file offset. The offset must be larger
than the offset for the previously added alternative line info
and smaller than the file size; otherwise the information is
ignored.
<p>AddLineColumnInfo is typically used to register alternative position
information for line directives such as //line filename:line:column.

				
				
				
			
				
				<h3 id="File.AddLineInfo">func (*File) <a href="/src/go/token/position.go?s=7772:7837#L224">AddLineInfo</a>
					<a class="permalink" href="#File.AddLineInfo">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) AddLineInfo(offset <a href="/pkg/builtin/#int">int</a>, filename <a href="/pkg/builtin/#string">string</a>, line <a href="/pkg/builtin/#int">int</a>)</pre>
				<p>AddLineInfo is like AddLineColumnInfo with a column = 1 argument.
It is here for backward-compatibility for code prior to Go 1.11.

				
				
				
			
				
				<h3 id="File.Base">func (*File) <a href="/src/go/token/position.go?s=3944:3969#L102">Base</a>
					<a class="permalink" href="#File.Base">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Base() <a href="/pkg/builtin/#int">int</a></pre>
				<p>Base returns the base offset of file f as registered with AddFile.

				
				
				
			
				
				<h3 id="File.Line">func (*File) <a href="/src/go/token/position.go?s=9345:9375#L266">Line</a>
					<a class="permalink" href="#File.Line">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Line(p <a href="#Pos">Pos</a>) <a href="/pkg/builtin/#int">int</a></pre>
				<p>Line returns the line number for the given file position p;
p must be a Pos value in that file or NoPos.

				
				
				
			
				
				<h3 id="File.LineCount">func (*File) <a href="/src/go/token/position.go?s=4151:4181#L112">LineCount</a>
					<a class="permalink" href="#File.LineCount">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) LineCount() <a href="/pkg/builtin/#int">int</a></pre>
				<p>LineCount returns the number of lines in file f.

				
				
				
			
				
				<h3 id="File.LineStart">func (*File) <a href="/src/go/token/position.go?s=7016:7054#L200">LineStart</a>
					<a class="permalink" href="#File.LineStart">&#xb6;</a>
					
					<span title="Added in Go 1.12">1.12</span>
				</h3>
				<pre>func (f *<a href="#File">File</a>) LineStart(line <a href="/pkg/builtin/#int">int</a>) <a href="#Pos">Pos</a></pre>
				<p>LineStart returns the Pos value of the start of the specified line.
It ignores any alternative positions set using AddLineColumnInfo.
LineStart panics if the 1-based line number is invalid.

				
				
				
			
				
				<h3 id="File.MergeLine">func (*File) <a href="/src/go/token/position.go?s=4925:4959#L134">MergeLine</a>
					<a class="permalink" href="#File.MergeLine">&#xb6;</a>
					
					<span title="Added in Go 1.2">1.2</span>
				</h3>
				<pre>func (f *<a href="#File">File</a>) MergeLine(line <a href="/pkg/builtin/#int">int</a>)</pre>
				<p>MergeLine merges a line with the following line. It is akin to replacing
the newline character at the end of the line with a space (to not change the
remaining offsets). To obtain the line number, consult e.g. Position.Line.
MergeLine will panic if given an invalid line number.

				
				
				
			
				
				<h3 id="File.Name">func (*File) <a href="/src/go/token/position.go?s=3825:3853#L97">Name</a>
					<a class="permalink" href="#File.Name">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Name() <a href="/pkg/builtin/#string">string</a></pre>
				<p>Name returns the file name of file f as registered with AddFile.

				
				
				
			
				
				<h3 id="File.Offset">func (*File) <a href="/src/go/token/position.go?s=9026:9058#L257">Offset</a>
					<a class="permalink" href="#File.Offset">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Offset(p <a href="#Pos">Pos</a>) <a href="/pkg/builtin/#int">int</a></pre>
				<p>Offset returns the offset for the given file position p;
p must be a valid Pos value in that file.
f.Offset(f.Pos(offset)) == offset.

				
				
				
			
				
				<h3 id="File.Pos">func (*File) <a href="/src/go/token/position.go?s=8708:8742#L247">Pos</a>
					<a class="permalink" href="#File.Pos">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Pos(offset <a href="/pkg/builtin/#int">int</a>) <a href="#Pos">Pos</a></pre>
				<p>Pos returns the Pos value for the given file offset;
the offset must be &lt;= f.Size().
f.Pos(f.Offset(p)) == p.

				
				
				
			
				
				<h3 id="File.Position">func (*File) <a href="/src/go/token/position.go?s=11740:11785#L333">Position</a>
					<a class="permalink" href="#File.Position">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Position(p <a href="#Pos">Pos</a>) (pos <a href="#Position">Position</a>)</pre>
				<p>Position returns the Position value for the given file position p.
Calling f.Position(p) is equivalent to calling f.PositionFor(p, true).

				
				
				
			
				
				<h3 id="File.PositionFor">func (*File) <a href="/src/go/token/position.go?s=11318:11381#L321">PositionFor</a>
					<a class="permalink" href="#File.PositionFor">&#xb6;</a>
					
					<span title="Added in Go 1.4">1.4</span>
				</h3>
				<pre>func (f *<a href="#File">File</a>) PositionFor(p <a href="#Pos">Pos</a>, adjusted <a href="/pkg/builtin/#bool">bool</a>) (pos <a href="#Position">Position</a>)</pre>
				<p>PositionFor returns the Position value for the given file position p.
If adjusted is set, the position may be adjusted by position-altering
//line comments; otherwise those comments are ignored.
p must be a Pos value in f or NoPos.

				
				
				
			
				
				<h3 id="File.SetLines">func (*File) <a href="/src/go/token/position.go?s=6105:6146#L160">SetLines</a>
					<a class="permalink" href="#File.SetLines">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) SetLines(lines []<a href="/pkg/builtin/#int">int</a>) <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>SetLines sets the line offsets for a file and reports whether it succeeded.
The line offsets are the offsets of the first character of each line;
for instance for the content &quot;ab\nc\n&quot; the line offsets are {0, 3}.
An empty file has an empty line offset table.
Each line offset must be larger than the offset for the previous line
and smaller than the file size; otherwise SetLines fails and returns
false.
Callers must not mutate the provided slice after SetLines returns.

				
				
				
			
				
				<h3 id="File.SetLinesForContent">func (*File) <a href="/src/go/token/position.go?s=6519:6568#L178">SetLinesForContent</a>
					<a class="permalink" href="#File.SetLinesForContent">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) SetLinesForContent(content []<a href="/pkg/builtin/#byte">byte</a>)</pre>
				<p>SetLinesForContent sets the line offsets for the given file content.
It ignores position-altering //line comments.

				
				
				
			
				
				<h3 id="File.Size">func (*File) <a href="/src/go/token/position.go?s=4053:4078#L107">Size</a>
					<a class="permalink" href="#File.Size">&#xb6;</a>
					
					
				</h3>
				<pre>func (f *<a href="#File">File</a>) Size() <a href="/pkg/builtin/#int">int</a></pre>
				<p>Size returns the size of file f as registered with AddFile.

				
				
				
			
		
			
			
			<h2 id="FileSet">type <a href="/src/go/token/position.go?s=12947:13219#L359">FileSet</a>
				<a class="permalink" href="#FileSet">&#xb6;</a>
				
				
			</h2>
			<p>A FileSet represents a set of source files.
Methods of file sets are synchronized; multiple goroutines
may invoke them concurrently.
<p>The byte offsets for each file in a file set are mapped into
distinct (integer) intervals, one interval [base, base+size]
per file. Base represents the first byte in the file, and size
is the corresponding file size. A Pos value is a value in such
an interval. By determining the interval a Pos value belongs
to, the file, its file base, and thus the byte offset (position)
the Pos value is representing can be computed.
<p>When adding a new file, a file base must be provided. That can
be any integer value that is past the end of any interval of any
file already in the file set. For convenience, FileSet.Base provides
such a value, which is simply the end of the Pos interval of the most
recently added file, plus one. Unless there is a need to extend an
interval later, using the FileSet.Base should be used as argument
for FileSet.AddFile.

			<pre>type FileSet struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewFileSet">func <a href="/src/go/token/position.go?s=13259:13285#L367">NewFileSet</a>
					<a class="permalink" href="#NewFileSet">&#xb6;</a>
					
					
				</h3>
				<pre>func NewFileSet() *<a href="#FileSet">FileSet</a></pre>
				<p>NewFileSet creates a new file set.

				
				
			

			
				
				<h3 id="FileSet.AddFile">func (*FileSet) <a href="/src/go/token/position.go?s=14334:14398#L398">AddFile</a>
					<a class="permalink" href="#FileSet.AddFile">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) AddFile(filename <a href="/pkg/builtin/#string">string</a>, base, size <a href="/pkg/builtin/#int">int</a>) *<a href="#File">File</a></pre>
				<p>AddFile adds a new file with a given filename, base offset, and file size
to the file set s and returns the file. Multiple files may have the same
name. The base offset must not be smaller than the FileSet&apos;s Base(), and
size must not be negative. As a special case, if a negative base is provided,
the current value of the FileSet&apos;s Base() is used instead.
<p>Adding the file will set the file set&apos;s Base() value to base + size + 1
as the minimum base value for the next file. The following relationship
exists between a Pos value p for a given file offset offs:
<pre>int(p) = base + offs
</pre>
<p>with offs in the range [0, size] and thus p in the range [base, base+size].
For convenience, File.Pos may be used to create file-specific position
values from a file offset.

				
				
				
			
				
				<h3 id="FileSet.Base">func (*FileSet) <a href="/src/go/token/position.go?s=13440:13468#L375">Base</a>
					<a class="permalink" href="#FileSet.Base">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) Base() <a href="/pkg/builtin/#int">int</a></pre>
				<p>Base returns the minimum base offset that must be provided to
AddFile when adding the next file.

				
				
				
			
				
				<h3 id="FileSet.File">func (*FileSet) <a href="/src/go/token/position.go?s=16196:16235#L472">File</a>
					<a class="permalink" href="#FileSet.File">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) File(p <a href="#Pos">Pos</a>) (f *<a href="#File">File</a>)</pre>
				<p>File returns the file that contains the position p.
If no such file is found (for instance for p == NoPos),
the result is nil.

				
				
				
			
				
				<h3 id="FileSet.Iterate">func (*FileSet) <a href="/src/go/token/position.go?s=15158:15203#L428">Iterate</a>
					<a class="permalink" href="#FileSet.Iterate">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) Iterate(f func(*<a href="#File">File</a>) <a href="/pkg/builtin/#bool">bool</a>)</pre>
				<p>Iterate calls f for the files in the file set in the order they were added
until f returns false.

				
				
				
			
				
				<h3 id="FileSet.Position">func (*FileSet) <a href="/src/go/token/position.go?s=16837:16885#L494">Position</a>
					<a class="permalink" href="#FileSet.Position">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) Position(p <a href="#Pos">Pos</a>) (pos <a href="#Position">Position</a>)</pre>
				<p>Position converts a Pos p in the fileset into a Position value.
Calling s.Position(p) is equivalent to calling s.PositionFor(p, true).

				
				
				
			
				
				<h3 id="FileSet.PositionFor">func (*FileSet) <a href="/src/go/token/position.go?s=16526:16592#L483">PositionFor</a>
					<a class="permalink" href="#FileSet.PositionFor">&#xb6;</a>
					
					<span title="Added in Go 1.4">1.4</span>
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) PositionFor(p <a href="#Pos">Pos</a>, adjusted <a href="/pkg/builtin/#bool">bool</a>) (pos <a href="#Position">Position</a>)</pre>
				<p>PositionFor converts a Pos p in the fileset into a Position value.
If adjusted is set, the position may be adjusted by position-altering
//line comments; otherwise those comments are ignored.
p must be a Pos value in s or NoPos.

				
				
				
			
				
				<h3 id="FileSet.Read">func (*FileSet) <a href="/src/go/token/serialize.go?s=490:542#L12">Read</a>
					<a class="permalink" href="#FileSet.Read">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) Read(decode func(<a href="/pkg/builtin/#any">any</a>) <a href="/pkg/builtin/#error">error</a>) <a href="/pkg/builtin/#error">error</a></pre>
				<p>Read calls decode to deserialize a file set into s; s must not be nil.

				
				
				
			
				
				<h3 id="FileSet.Write">func (*FileSet) <a href="/src/go/token/serialize.go?s=996:1049#L39">Write</a>
					<a class="permalink" href="#FileSet.Write">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="#FileSet">FileSet</a>) Write(encode func(<a href="/pkg/builtin/#any">any</a>) <a href="/pkg/builtin/#error">error</a>) <a href="/pkg/builtin/#error">error</a></pre>
				<p>Write calls encode to serialize the file set s.

				
				
				
			
		
			
			
			<h2 id="Pos">type <a href="/src/go/token/position.go?s=2787:2799#L67">Pos</a>
				<a class="permalink" href="#Pos">&#xb6;</a>
				
				
			</h2>
			<p>Pos is a compact encoding of a source position within a file set.
It can be converted into a Position for a more convenient, but much
larger, representation.
<p>The Pos value for a given file is a number in the range [base, base+size],
where base and size are specified when a file is added to the file set.
The difference between a Pos value and the corresponding file base
corresponds to the byte offset of that position (represented by the Pos value)
from the beginning of the file. Thus, the file base offset is the Pos value
representing the first byte in the file.
<p>To create the Pos value for a specific source offset (measured in bytes),
first add the respective file to the current file set using FileSet.AddFile
and then call File.Pos(offset) for that file. Given a Pos value p
for a specific file set fset, the corresponding Position value is
obtained by calling fset.Position(p).
<p>Pos values can be compared directly with the usual comparison operators:
If two Pos values p and q are in the same file, comparing p and q is
equivalent to comparing the respective source file offsets. If p and q
are in different files, p &lt; q is true if the file implied by p was added
to the respective file set before the file implied by q.

			<pre>type Pos <a href="/pkg/builtin/#int">int</a></pre>

			
				<p>The zero value for Pos is NoPos; there is no file and line information
associated with it, and NoPos.IsValid() is false. NoPos is always
smaller than any other Pos value. The corresponding Position value
for NoPos is the zero value for Position.

				<pre>const <span id="NoPos">NoPos</span> <a href="#Pos">Pos</a> = 0</pre>
			

			

			
			
			

			

			
				
				<h3 id="Pos.IsValid">func (Pos) <a href="/src/go/token/position.go?s=3130:3157#L76">IsValid</a>
					<a class="permalink" href="#Pos.IsValid">&#xb6;</a>
					
					
				</h3>
				<pre>func (p <a href="#Pos">Pos</a>) IsValid() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsValid reports whether the position is valid.

				
				
				
			
		
			
			
			<h2 id="Position">type <a href="/src/go/token/position.go?s=471:683#L10">Position</a>
				<a class="permalink" href="#Position">&#xb6;</a>
				
				
			</h2>
			<p>Position describes an arbitrary source position
including the file, line, and column location.
A Position is valid if the line number is &gt; 0.

			<pre>type Position struct {
<span id="Position.Filename"></span>    Filename <a href="/pkg/builtin/#string">string</a> <span class="comment">// filename, if any</span>
<span id="Position.Offset"></span>    Offset   <a href="/pkg/builtin/#int">int</a>    <span class="comment">// offset, starting at 0</span>
<span id="Position.Line"></span>    Line     <a href="/pkg/builtin/#int">int</a>    <span class="comment">// line number, starting at 1</span>
<span id="Position.Column"></span>    Column   <a href="/pkg/builtin/#int">int</a>    <span class="comment">// column number, starting at 1 (byte count)</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Position.IsValid">func (*Position) <a href="/src/go/token/position.go?s=735:770#L18">IsValid</a>
					<a class="permalink" href="#Position.IsValid">&#xb6;</a>
					
					
				</h3>
				<pre>func (pos *<a href="#Position">Position</a>) IsValid() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsValid reports whether the position is valid.

				
				
				
			
				
				<h3 id="Position.String">func (Position) <a href="/src/go/token/position.go?s=1238:1273#L28">String</a>
					<a class="permalink" href="#Position.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (pos <a href="#Position">Position</a>) String() <a href="/pkg/builtin/#string">string</a></pre>
				<p>String returns a string in one of several forms:
<pre>file:line:column    valid position with file name
file:line           valid position with file name but no column (column == 0)
line:column         valid position without file name
line                valid position without file name and no column (column == 0)
file                invalid position with file name
-                   invalid position without file name
</pre>

				
				
				
			
		
			
			
			<h2 id="Token">type <a href="/src/go/token/token.go?s=451:465#L6">Token</a>
				<a class="permalink" href="#Token">&#xb6;</a>
				
				
			</h2>
			<p>Token is the set of lexical tokens of the Go programming language.

			<pre>type Token <a href="/pkg/builtin/#int">int</a></pre>

			
				<p>The list of tokens.

				<pre>const (
    <span class="comment">// Special tokens</span>
    <span id="ILLEGAL">ILLEGAL</span> <a href="#Token">Token</a> = <a href="/pkg/builtin/#iota">iota</a>
    <span id="EOF">EOF</span>
    <span id="COMMENT">COMMENT</span>

    <span class="comment">// Identifiers and basic type literals</span>
    <span class="comment">// (these tokens stand for classes of literals)</span>
    <span id="IDENT">IDENT</span>  <span class="comment">// main</span>
    <span id="INT">INT</span>    <span class="comment">// 12345</span>
    <span id="FLOAT">FLOAT</span>  <span class="comment">// 123.45</span>
    <span id="IMAG">IMAG</span>   <span class="comment">// 123.45i</span>
    <span id="CHAR">CHAR</span>   <span class="comment">// &#39;a&#39;</span>
    <span id="STRING">STRING</span> <span class="comment">// &#34;abc&#34;</span>

    <span class="comment">// Operators and delimiters</span>
    <span id="ADD">ADD</span> <span class="comment">// +</span>
    <span id="SUB">SUB</span> <span class="comment">// -</span>
    <span id="MUL">MUL</span> <span class="comment">// *</span>
    <span id="QUO">QUO</span> <span class="comment">// /</span>
    <span id="REM">REM</span> <span class="comment">// %</span>

    <span id="AND">AND</span>     <span class="comment">// &amp;</span>
    <span id="OR">OR</span>      <span class="comment">// |</span>
    <span id="XOR">XOR</span>     <span class="comment">// ^</span>
    <span id="SHL">SHL</span>     <span class="comment">// &lt;&lt;</span>
    <span id="SHR">SHR</span>     <span class="comment">// &gt;&gt;</span>
    <span id="AND_NOT">AND_NOT</span> <span class="comment">// &amp;^</span>

    <span id="ADD_ASSIGN">ADD_ASSIGN</span> <span class="comment">// +=</span>
    <span id="SUB_ASSIGN">SUB_ASSIGN</span> <span class="comment">// -=</span>
    <span id="MUL_ASSIGN">MUL_ASSIGN</span> <span class="comment">// *=</span>
    <span id="QUO_ASSIGN">QUO_ASSIGN</span> <span class="comment">// /=</span>
    <span id="REM_ASSIGN">REM_ASSIGN</span> <span class="comment">// %=</span>

    <span id="AND_ASSIGN">AND_ASSIGN</span>     <span class="comment">// &amp;=</span>
    <span id="OR_ASSIGN">OR_ASSIGN</span>      <span class="comment">// |=</span>
    <span id="XOR_ASSIGN">XOR_ASSIGN</span>     <span class="comment">// ^=</span>
    <span id="SHL_ASSIGN">SHL_ASSIGN</span>     <span class="comment">// &lt;&lt;=</span>
    <span id="SHR_ASSIGN">SHR_ASSIGN</span>     <span class="comment">// &gt;&gt;=</span>
    <span id="AND_NOT_ASSIGN">AND_NOT_ASSIGN</span> <span class="comment">// &amp;^=</span>

    <span id="LAND">LAND</span>  <span class="comment">// &amp;&amp;</span>
    <span id="LOR">LOR</span>   <span class="comment">// ||</span>
    <span id="ARROW">ARROW</span> <span class="comment">// &lt;-</span>
    <span id="INC">INC</span>   <span class="comment">// ++</span>
    <span id="DEC">DEC</span>   <span class="comment">// --</span>

    <span id="EQL">EQL</span>    <span class="comment">// ==</span>
    <span id="LSS">LSS</span>    <span class="comment">// &lt;</span>
    <span id="GTR">GTR</span>    <span class="comment">// &gt;</span>
    <span id="ASSIGN">ASSIGN</span> <span class="comment">// =</span>
    <span id="NOT">NOT</span>    <span class="comment">// !</span>

    <span id="NEQ">NEQ</span>      <span class="comment">// !=</span>
    <span id="LEQ">LEQ</span>      <span class="comment">// &lt;=</span>
    <span id="GEQ">GEQ</span>      <span class="comment">// &gt;=</span>
    <span id="DEFINE">DEFINE</span>   <span class="comment">// :=</span>
    <span id="ELLIPSIS">ELLIPSIS</span> <span class="comment">// ...</span>

    <span id="LPAREN">LPAREN</span> <span class="comment">// (</span>
    <span id="LBRACK">LBRACK</span> <span class="comment">// [</span>
    <span id="LBRACE">LBRACE</span> <span class="comment">// {</span>
    <span id="COMMA">COMMA</span>  <span class="comment">// ,</span>
    <span id="PERIOD">PERIOD</span> <span class="comment">// .</span>

    <span id="RPAREN">RPAREN</span>    <span class="comment">// )</span>
    <span id="RBRACK">RBRACK</span>    <span class="comment">// ]</span>
    <span id="RBRACE">RBRACE</span>    <span class="comment">// }</span>
    <span id="SEMICOLON">SEMICOLON</span> <span class="comment">// ;</span>
    <span id="COLON">COLON</span>     <span class="comment">// :</span>

    <span class="comment">// Keywords</span>
    <span id="BREAK">BREAK</span>
    <span id="CASE">CASE</span>
    <span id="CHAN">CHAN</span>
    <span id="CONST">CONST</span>
    <span id="CONTINUE">CONTINUE</span>

    <span id="DEFAULT">DEFAULT</span>
    <span id="DEFER">DEFER</span>
    <span id="ELSE">ELSE</span>
    <span id="FALLTHROUGH">FALLTHROUGH</span>
    <span id="FOR">FOR</span>

    <span id="FUNC">FUNC</span>
    <span id="GO">GO</span>
    <span id="GOTO">GOTO</span>
    <span id="IF">IF</span>
    <span id="IMPORT">IMPORT</span>

    <span id="INTERFACE">INTERFACE</span>
    <span id="MAP">MAP</span>
    <span id="PACKAGE">PACKAGE</span>
    <span id="RANGE">RANGE</span>
    <span id="RETURN">RETURN</span>

    <span id="SELECT">SELECT</span>
    <span id="STRUCT">STRUCT</span>
    <span id="SWITCH">SWITCH</span>
    <span id="TYPE">TYPE</span>
    <span id="VAR">VAR</span>

    <span class="comment">// additional tokens, handled in an ad-hoc manner</span>
    <span id="TILDE">TILDE</span>
)</pre>
			

			

			
			
			

			
				
				<h3 id="Lookup">func <a href="/src/go/token/token.go?s=4936:4967#L282">Lookup</a>
					<a class="permalink" href="#Lookup">&#xb6;</a>
					
					
				</h3>
				<pre>func Lookup(ident <a href="/pkg/builtin/#string">string</a>) <a href="#Token">Token</a></pre>
				<p>Lookup maps an identifier to its keyword token or IDENT (if not a keyword).

				
				
			

			
				
				<h3 id="Token.IsKeyword">func (Token) <a href="/src/go/token/token.go?s=5592:5625#L303">IsKeyword</a>
					<a class="permalink" href="#Token.IsKeyword">&#xb6;</a>
					
					
				</h3>
				<pre>func (tok <a href="#Token">Token</a>) IsKeyword() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsKeyword returns true for tokens corresponding to keywords;
it returns false otherwise.

				
				
				
			
				
				<h3 id="Token.IsLiteral">func (Token) <a href="/src/go/token/token.go?s=5193:5226#L293">IsLiteral</a>
					<a class="permalink" href="#Token.IsLiteral">&#xb6;</a>
					
					
				</h3>
				<pre>func (tok <a href="#Token">Token</a>) IsLiteral() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsLiteral returns true for tokens corresponding to identifiers
and basic type literals; it returns false otherwise.

				
				
				
			
				
				<h3 id="Token.IsOperator">func (Token) <a href="/src/go/token/token.go?s=5390:5424#L297">IsOperator</a>
					<a class="permalink" href="#Token.IsOperator">&#xb6;</a>
					
					
				</h3>
				<pre>func (tok <a href="#Token">Token</a>) IsOperator() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsOperator returns true for tokens corresponding to operators and
delimiters; it returns false otherwise.

				
				
				
			
				
				<h3 id="Token.Precedence">func (Token) <a href="/src/go/token/token.go?s=4409:4441#L256">Precedence</a>
					<a class="permalink" href="#Token.Precedence">&#xb6;</a>
					
					
				</h3>
				<pre>func (op <a href="#Token">Token</a>) Precedence() <a href="/pkg/builtin/#int">int</a></pre>
				<p>Precedence returns the operator precedence of the binary
operator op. If op is not a binary operator, the result
is LowestPrecedence.

				
				
				
			
				
				<h3 id="Token.String">func (Token) <a href="/src/go/token/token.go?s=3697:3729#L231">String</a>
					<a class="permalink" href="#Token.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (tok <a href="#Token">Token</a>) String() <a href="/pkg/builtin/#string">string</a></pre>
				<p>String returns the string corresponding to the token tok.
For operators, delimiters, and keywords the string is the actual
token character sequence (e.g., for the token ADD, the string is
&quot;+&quot;). For all other tokens the string corresponds to the token
constant name (e.g. for the token IDENT, the string is &quot;IDENT&quot;).

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.2.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
