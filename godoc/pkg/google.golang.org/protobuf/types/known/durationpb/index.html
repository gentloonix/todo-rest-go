<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>durationpb - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="/lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="/lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.2";</script>
<script src="/lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="/pkg/">GoDoc</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package durationpb
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "google.golang.org/protobuf/types/known/durationpb"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package durationpb contains generated types for google/protobuf/duration.proto.
<p>The Duration message represents a signed span of time.
<h3 id="hdr-Conversion_to_a_Go_Duration">Conversion to a Go Duration</h3>
<p>The AsDuration method can be used to convert a Duration message to a
standard Go time.Duration value:
<pre>d := dur.AsDuration()
... // make use of d as a time.Duration
</pre>
<p>Converting to a time.Duration is a common operation so that the extensive
set of time-based operations provided by the time package can be leveraged.
See <a href="https://golang.org/pkg/time">https://golang.org/pkg/time</a> for more information.
<p>The AsDuration method performs the conversion on a best-effort basis.
Durations with denormal values (e.g., nanoseconds beyond -99999999 and
+99999999, inclusive; or seconds and nanoseconds with opposite signs)
are normalized during the conversion to a time.Duration. To manually check for
invalid Duration per the documented limitations in duration.proto,
additionally call the CheckValid method:
<pre>if err := dur.CheckValid(); err != nil {
	... // handle error
}
</pre>
<p>Note that the documented limitations in duration.proto does not protect a
Duration from overflowing the representable range of a time.Duration in Go.
The AsDuration method uses saturation arithmetic such that an overflow clamps
the resulting value to the closest representable value (e.g., math.MaxInt64
for positive overflow and math.MinInt64 for negative overflow).
<h3 id="hdr-Conversion_from_a_Go_Duration">Conversion from a Go Duration</h3>
<p>The durationpb.New function can be used to construct a Duration message
from a standard Go time.Duration value:
<pre>dur := durationpb.New(d)
... // make use of d as a *durationpb.Duration
</pre>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="#pkg-variables">Variables</a></dd>
			
			
			
				
				<dd><a href="#Duration">type Duration</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#New">func New(d time.Duration) *Duration</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.AsDuration">func (x *Duration) AsDuration() time.Duration</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.CheckValid">func (x *Duration) CheckValid() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.Descriptor">func (*Duration) Descriptor() ([]byte, []int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.GetNanos">func (x *Duration) GetNanos() int32</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.GetSeconds">func (x *Duration) GetSeconds() int64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.IsValid">func (x *Duration) IsValid() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.ProtoMessage">func (*Duration) ProtoMessage()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.ProtoReflect">func (x *Duration) ProtoReflect() protoreflect.Message</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.Reset">func (x *Duration) Reset()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Duration.String">func (x *Duration) String() string</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go">duration.pb.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var <span id="File_google_protobuf_duration_proto">File_google_protobuf_duration_proto</span> <a href="/pkg/google.golang.org/protobuf/reflect/protoreflect/">protoreflect</a>.<a href="/pkg/google.golang.org/protobuf/reflect/protoreflect/#FileDescriptor">FileDescriptor</a></pre>
			
		
		
		
			
			
			<h2 id="Duration">type <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=5853:6762#L138">Duration</a>
				<a class="permalink" href="#Duration">&#xb6;</a>
				
				
			</h2>
			<p>A Duration represents a signed, fixed-length span of time represented
as a count of seconds and fractions of seconds at nanosecond
resolution. It is independent of any calendar and concepts like &quot;day&quot;
or &quot;month&quot;. It is related to Timestamp in that the difference between
two Timestamp values is a Duration and it can be added or subtracted
from a Timestamp. Range is approximately +-10,000 years.
<h3 id="hdr-Examples">Examples</h3>
<p>Example 1: Compute Duration from two Timestamps in pseudo code.
<pre>Timestamp start = ...;
Timestamp end = ...;
Duration duration = ...;

duration.seconds = end.seconds - start.seconds;
duration.nanos = end.nanos - start.nanos;

if (duration.seconds &lt; 0 &amp;&amp; duration.nanos &gt; 0) {
  duration.seconds += 1;
  duration.nanos -= 1000000000;
} else if (duration.seconds &gt; 0 &amp;&amp; duration.nanos &lt; 0) {
  duration.seconds -= 1;
  duration.nanos += 1000000000;
}
</pre>
<p>Example 2: Compute Timestamp from Timestamp + Duration in pseudo code.
<pre>Timestamp start = ...;
Duration duration = ...;
Timestamp end = ...;

end.seconds = start.seconds + duration.seconds;
end.nanos = start.nanos + duration.nanos;

if (end.nanos &lt; 0) {
  end.seconds -= 1;
  end.nanos += 1000000000;
} else if (end.nanos &gt;= 1000000000) {
  end.seconds += 1;
  end.nanos -= 1000000000;
}
</pre>
<p>Example 3: Compute Duration from datetime.timedelta in Python.
<pre>td = datetime.timedelta(days=3, minutes=10)
duration = Duration()
duration.FromTimedelta(td)
</pre>
<h3 id="hdr-JSON_Mapping">JSON Mapping</h3>
<p>In JSON format, the Duration type is encoded as a string rather than an
object, where the string ends in the suffix &quot;s&quot; (indicating seconds) and
is preceded by the number of seconds, with nanoseconds expressed as
fractional seconds. For example, 3 seconds with 0 nanoseconds should be
encoded in JSON format as &quot;3s&quot;, while 3 seconds and 1 nanosecond should
be expressed in JSON format as &quot;3.000000001s&quot;, and 3 seconds and 1
microsecond should be expressed in JSON format as &quot;3.000001s&quot;.

			<pre>type Duration struct {

    <span class="comment">// Signed seconds of the span of time. Must be from -315,576,000,000</span>
    <span class="comment">// to +315,576,000,000 inclusive. Note: these bounds are computed from:</span>
    <span class="comment">// 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years</span>
<span id="Duration.Seconds"></span>    Seconds <a href="/pkg/builtin/#int64">int64</a> `protobuf:&#34;varint,1,opt,name=seconds,proto3&#34; json:&#34;seconds,omitempty&#34;`
    <span class="comment">// Signed fractions of a second at nanosecond resolution of the span</span>
    <span class="comment">// of time. Durations less than one second are represented with a 0</span>
    <span class="comment">// `seconds` field and a positive or negative `nanos` field. For durations</span>
    <span class="comment">// of one second or more, a non-zero value for the `nanos` field must be</span>
    <span class="comment">// of the same sign as the `seconds` field. Must be from -999,999,999</span>
    <span class="comment">// to +999,999,999 inclusive.</span>
<span id="Duration.Nanos"></span>    Nanos <a href="/pkg/builtin/#int32">int32</a> `protobuf:&#34;varint,2,opt,name=nanos,proto3&#34; json:&#34;nanos,omitempty&#34;`
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="New">func <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=6830:6865#L157">New</a>
					<a class="permalink" href="#New">&#xb6;</a>
					
					
				</h3>
				<pre>func New(d <a href="/pkg/time/">time</a>.<a href="/pkg/time/#Duration">Duration</a>) *<a href="#Duration">Duration</a></pre>
				<p>New constructs a new Duration from the provided time.Duration.

				
				
			

			
				
				<h3 id="Duration.AsDuration">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=7111:7156#L166">AsDuration</a>
					<a class="permalink" href="#Duration.AsDuration">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) AsDuration() <a href="/pkg/time/">time</a>.<a href="/pkg/time/#Duration">Duration</a></pre>
				<p>AsDuration converts x to a time.Duration,
returning the closest duration value in the event of overflow.

				
				
				
			
				
				<h3 id="Duration.CheckValid">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=7982:8019#L195">CheckValid</a>
					<a class="permalink" href="#Duration.CheckValid">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) CheckValid() <a href="/pkg/builtin/#error">error</a></pre>
				<p>CheckValid returns an error if the duration is invalid.
In particular, it checks whether the value is within the range of
-10000 years to +10000 years inclusive.
An error is reported for a nil Duration.

				
				
				
			
				
				<h3 id="Duration.Descriptor">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9872:9917#L269">Descriptor</a>
					<a class="permalink" href="#Duration.Descriptor">&#xb6;</a>
					
					
				</h3>
				<pre>func (*<a href="#Duration">Duration</a>) Descriptor() ([]<a href="/pkg/builtin/#byte">byte</a>, []<a href="/pkg/builtin/#int">int</a>)</pre>
				<p>Deprecated: Use Duration.ProtoReflect.Descriptor instead.

				
				
				
			
				
				<h3 id="Duration.GetNanos">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=10081:10116#L280">GetNanos</a>
					<a class="permalink" href="#Duration.GetNanos">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) GetNanos() <a href="/pkg/builtin/#int32">int32</a></pre>
				
				
				
				
			
				
				<h3 id="Duration.GetSeconds">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9991:10028#L273">GetSeconds</a>
					<a class="permalink" href="#Duration.GetSeconds">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) GetSeconds() <a href="/pkg/builtin/#int64">int64</a></pre>
				
				
				
				
			
				
				<h3 id="Duration.IsValid">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=7705:7738#L187">IsValid</a>
					<a class="permalink" href="#Duration.IsValid">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) IsValid() <a href="/pkg/builtin/#bool">bool</a></pre>
				<p>IsValid reports whether the duration is valid.
It is equivalent to CheckValid == nil.

				
				
				
			
				
				<h3 id="Duration.ProtoMessage">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9455:9486#L254">ProtoMessage</a>
					<a class="permalink" href="#Duration.ProtoMessage">&#xb6;</a>
					
					
				</h3>
				<pre>func (*<a href="#Duration">Duration</a>) ProtoMessage()</pre>
				
				
				
				
			
				
				<h3 id="Duration.ProtoReflect">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9491:9545#L256">ProtoReflect</a>
					<a class="permalink" href="#Duration.ProtoReflect">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) ProtoReflect() <a href="/pkg/google.golang.org/protobuf/reflect/protoreflect/">protoreflect</a>.<a href="/pkg/google.golang.org/protobuf/reflect/protoreflect/#Message">Message</a></pre>
				
				
				
				
			
				
				<h3 id="Duration.Reset">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9154:9180#L241">Reset</a>
					<a class="permalink" href="#Duration.Reset">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) Reset()</pre>
				
				
				
				
			
				
				<h3 id="Duration.String">func (*Duration) <a href="/src/google.golang.org/protobuf/types/known/durationpb/duration.pb.go?s=9376:9410#L250">String</a>
					<a class="permalink" href="#Duration.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (x *<a href="#Duration">Duration</a>) String() <a href="/pkg/builtin/#string">string</a></pre>
				
				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.2.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
